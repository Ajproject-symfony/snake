<html>
    <!DOCTYPE html>
    <html lang="fr">
        <head>
            <meta charsetUTF-8 />
            <title>Snake</title>
            <style>
                canvas {
                    display: block;
                    margin: auto;
                }
            </style>
        </head>
        <body>
            <canvas
                id="game"
                width="500"
                height="500"
                style="border: 1px solid black"
            ></canvas>
            <script>
                // Faire la pomme ci-dessous
                // const canvas = document.getElementById("game");
                // const ctx = canvas.getContext("2d");
                // var scoreboard = 0;
                // const taille = 30;
                // let snake = [{ x: taille, y: taille }];
                // let direction = { x: taille, y: 0 };

                // const newFruit = () => {
                //     return {
                //         x:
                //             Math.floor(
                //                 Math.random() * (canvas.width / taille)
                //             ) * taille,
                //         y:
                //             Math.floor(
                //                 Math.random() * (canvas.height / taille)
                //             ) * taille,
                //     };
                // };
                // let fruit = newFruit();

                // const loop = () => {
                //     let tete = {
                //         x: snake[0].x + direction.x,
                //         y: snake[0].y + direction.y,
                //     };

                //     if (tete.x === fruit.x && tete.y === fruit.y) {
                //         fruit = newFruit();
                //         scoreboard++;
                //     } else {
                //         snake.pop();
                //     }

                //     snake.unshift(tete);

                //     if (collision(tete)) {
                //         snake = [{ x: taille, y: taille }];
                //         direction = { x: taille, y: 0 };
                //         alert("game over");
                //     }

                //     ctx.clearRect(0, 0, canvas.width, canvas.height);
                //     ctx.lineWidth = 2;
                //     ctx.roundStyle = "#FF0000";
                //     ctx.beginPath();
                //     ctx.roundRect(0, 0, canvas.width, canvas.height, 20);
                //     ctx.stroke();

                //     ctx.fillStyle = "red";
                //     ctx.fillRect(fruit.x, fruit.y, taille, taille);

                //     ctx.fillStyle = "green";
                //     for (let s of snake) {
                //         ctx.fillRect(s.x, s.y, taille, taille);
                //     }

                //     setTimeout(loop, 150);
                // };

                // const collision = (tete) => {
                //     for (let i = 1; i < snake.length; i++) {
                //         if ((snake[i].x === snake[0].y) === tete) {
                //             return true;
                //         }
                //     }
                //     return (
                //         snake[0].x < direction.x >= canvas.width ||
                //         snake[0].y < 0 ||
                //         snake[0].y >= canvas.height
                //     );
                // };

                // document.addEventListener("keydown", (e) => {
                //     if (e.key === "ArrowUp" && direction.y === 0)
                //         direction = { x: 0, y: -taille };
                //     if (e.key === "ArrowDown" && direction.y === 0)
                //         direction = { x: 0, y: taille };
                //     if (e.key === "ArrowLeft" && direction.x === 0)
                //         direction = { x: -taille, y: 0 };
                //     if (e.key === "ArrowRight" && direction.x === 0)
                //         direction = { x: taille, y: 0 };
                // });

                // loop();
            </script>
        </body>
    </html>
</html>
